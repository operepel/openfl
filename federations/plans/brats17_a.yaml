# Compose an FL plan in JSON/YAML.
# * Task name
# * Task description
# * The folder path to the locally runnable code.
# * The software dependency.
# * FL parameters: fed_id, opt_treatment.

# * Added by the coordinator later: agg_id, agg_url, poll_interval.


# We may have several plans for one dataset, to search the best model architecture for exammple.

task            : brats
version         : '1'
description     : Train a model to perform semantic segmentation on brain fMRI images.
status          : active
# The federation/plan ID is linked to certain software version, code (including model architecture), initialization, dataset, aggregation configuration, etc.
federation      : fl_brats_2dunet
dataset         : BraTS17
software_version: '1'

model:
  # TODO: hyper-parameters
  # The code includes pre-processing.
  name     : brats_2dunet_tensorflow
  # We may specify the optimizer and other hyper-parameters to the code.
  optimizer: SGD

aggregator:
  id           : agg_brats
  # FIXME: should be assigned automatically
  addr           : "*"
  port           : 8849

  collaborators  : 1
  initial_weights: ./federations/weights/TensorFlow2DUNet_init.pbuf
  latest_weights : ./federations/weights/TensorFlow2DUNet_latest.pbuf

collaborator:
  opt_vars_treatment : RESET
  sync_per_iterations: 100 
